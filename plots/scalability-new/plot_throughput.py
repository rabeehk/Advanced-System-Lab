import numpy as np
import matplotlib.pyplot as plt


x = [32, 64, 96, 160, 256, 320, 384, 512, 960]

t2 = [4704.0233333333335, 77.38802083333333*64, 5013.116666666667, 4958.056666666666, 4857.833333333334, 4822.653333333334,
 4740.963333333333, 4594.889999999999, 3953.5470345596427] 

t1 = [4600.187435897436, 4840.846666666666, 51.62065972222222*96,  30.5926875*160, 4789.893333333333, 4725.139999999999, 4644.323333333334,
 4490.7699999999995, 3946.1566666666663]

std2=[4.26475477473439, 1.973827755862028, 1.1811448728938607, 0.777969340562884,
0.5575489645733338, 0.504535330906869, 0.48731829541871197, 0.41999323908419606,
0.4291779511194804]

std1=[3.626496547707007, 1.3206950847037198, 0.7876272809092273, 0.660023292329829,
0.5088780490362413, 0.445402171672955, 0.44115138048073305, 0.38669834550386806, 
0.44140148353781095]

fig, ax0 = plt.subplots(nrows=1, sharex=True)
ax0.errorbar(x, t1, yerr=std1, fmt='-o', capthick=2, linewidth=2)
ax0.errorbar(x, t2, yerr=std2, fmt='-o', capthick=2, linewidth=2)
ax0.set_title('Measured throughputs in scalability experiment', weight='heavy')
ax0.set_xlabel('Number of clients', weight='heavy')
ax0.set_ylabel('Throughput (requests/second)', weight='heavy')
plt.legend(['1 middleware', '2 middlewares'], loc=4)
plt.axis([0, 1000, 0, 5200])
plt.show()



